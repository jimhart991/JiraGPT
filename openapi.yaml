openapi: 3.0.0
info:
  title: Jira Cloud API
  version: 1.0.0
  description: API spec to interact with Jira Cloud. Supports issues, projects, comments, users, and advanced issue types like Epics and Initiatives.
servers:
  - url: https://your-domain.atlassian.net
    description: Replace with your Jira Cloud domain

paths:
  /rest/api/3/issue:
    post:
      summary: Create a new Jira issue (Story, Epic, Initiative, etc.)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                fields:
                  type: object
      responses:
        '201':
          description: Issue created

  /rest/api/3/issue/{issueIdOrKey}:
    get:
      summary: Get a specific issue by ID or key
      parameters:
        - in: path
          name: issueIdOrKey
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Issue details
    put:
      summary: Update a Jira issue
      parameters:
        - in: path
          name: issueIdOrKey
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                fields:
                  type: object
      responses:
        '204':
          description: Issue updated

  /rest/api/3/issue/{issueIdOrKey}/comment:
    post:
      summary: Add a comment to an issue
      parameters:
        - in: path
          name: issueIdOrKey
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                body:
                  type: string
      responses:
        '201':
          description: Comment added

  /rest/api/3/search:
    get:
      summary: Search issues using JQL
      parameters:
        - in: query
          name: jql
          required: true
          schema:
            type: string
        - in: query
          name: maxResults
          required: false
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: List of matching issues

  /rest/api/3/project:
    get:
      summary: List all projects
      responses:
        '200':
          description: List of projects

  /rest/api/3/issuetype:
    get:
      summary: List all issue types (e.g., Story, Task, Bug, Epic, Initiative)
      responses:
        '200':
          description: List of issue types

  /rest/api/3/issue/{issueIdOrKey}/assignee:
    put:
      summary: Assign an issue to a user
      parameters:
        - in: path
          name: issueIdOrKey
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                accountId:
                  type: string
      responses:
        '204':
          description: Assignee updated

  /rest/api/3/user/search:
    get:
      summary: Search for a Jira user by name or email
      parameters:
        - in: query
          name: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: List of matching users
